<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>Vascular Analysis : Find points</title>
        <meta name="description" content="">

        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/Vascular-Analysis/css/syntax.css">
        <link rel="stylesheet" href="/Vascular-Analysis/css/main.css">
    </head>
    <body>

        <div class="container">
            <div class=row-fluid>
                <div id=header class=span12>
                    <h4><a class=brand href="/Vascular-Analysis/">Vascular Analysis</a>
    <small></small>
</h4>


                </div>
            </div>

            <div class=row-fluid>
                
                
                    <div id=navigation class=span2>
                        <ul class="nav nav-list">
    <!-- <li><a href="/Vascular-Analysis/">Home</a></li> -->
    <BR>
    
        
        

        
            
                <li class=nav-header>Getting Started</li>
            
            <li data-order="2"><a href="/Vascular-Analysis/opening-and-closing">Opening and closing</a></li>
        
            
            <li data-order="1"><a href="/Vascular-Analysis/installation">Installation</a></li>
        
    
        
        

        
            
                <li class=nav-header>Imaging Core</li>
            
            <li data-order="2"><a href="/Vascular-Analysis/stack-run">Stack run</a></li>
        
            
            <li data-order="1"><a href="/Vascular-Analysis/stack">Stack</a></li>
        
    
        
        

        
            
                <li class=nav-header>Vascular Interface</li>
            
            <li data-order="5"><a href="/Vascular-Analysis/search">Search</a></li>
        
            
            <li data-order="7"><a href="/Vascular-Analysis/pivot-points">Pivot points</a></li>
        
            
            <li data-order="4"><a href="/Vascular-Analysis/find-points">Find points</a></li>
        
            
            <li data-order="3"><a href="/Vascular-Analysis/editing-slabs">Editing slabs</a></li>
        
            
            <li data-order="2"><a href="/Vascular-Analysis/vascular-tracing">Vascular tracing</a></li>
        
            
            <li data-order="6"><a href="/Vascular-Analysis/point-info">Point info</a></li>
        
            
            <li data-order="1"><a href="/Vascular-Analysis/hyperstack-panel">Hyperstack panel</a></li>
        
    
        
        

        
            
                <li class=nav-header>Workflows</li>
            
            <li data-order=""><a href="/Vascular-Analysis/vasular-workflow">Vascular workflow</a></li>
        
    
        
        

        
            
                <li class=nav-header>Reference</li>
            
            <li data-order=""><a href="/Vascular-Analysis/algorithms">Algorithms</a></li>
        
            
            <li data-order=""><a href="/Vascular-Analysis/gotchas">Gotchas</a></li>
        
            
            <li data-order=""><a href="/Vascular-Analysis/faq">FAQ</a></li>
        
    
        
        

        
            
                <li class=nav-header>Blog Posts</li>
            
            <li data-order="5"><a href="/Vascular-Analysis/simple-stack-db">Simple stack database</a></li>
        
            
            <li data-order="2"><a href="/Vascular-Analysis/scoring-tubes">Scoring tubes</a></li>
        
            
            <li data-order=""><a href="/Vascular-Analysis/how-to-use-jekyll">How to use Jekyll</a></li>
        
            
            <li data-order=""><a href="/Vascular-Analysis/example-user-file">example user file</a></li>
        
            
            <li data-order=""><a href="/Vascular-Analysis/change-log">change log</a></li>
        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class=divider></li> first to break up the content. -->
</ul>

                    </div>

                    <div id=content class=span10>
                        <div class=page-header>
    <h3>Find points
        
    </h3>
</div>

<p class="tip">
<b>Tip: </b> Don't be discouraged here. The Find points interface is actually very easy and intuitive to use. It is only the description on this page that is hard to understand.
</p>

<p>The Find Points window will display two timepoints simultaneously and provides an interface to manage the connections between both nodes and edges across timepoints.  </p>

<p>Open Find Points from the main <a href="/Vascular-Analysis/hyperstack-panel/">Hyperstack Panel</a> by specifying ‘Timepoint’ and ‘Timepoint 2’. Select a row in Find Points and both the source and destination stacks will be opened.</p>

<p class="important">
<b>Important: </b> When you first click a row in the Find Points window, you are opening two image stacks. This will take some time. Let the program finish opening the stacks before you continue interacting with the interface.
</p>

<h4 id="interface">Interface</h4>

<figure>
<img class="img-float-right" src="../images/findpoints_nodes.png" width="283" />
</figure>

<p>On the right is an example Find points window with Src node 23 connected to Dst node 4.</p>

<p>The Find Points window displays a list of nodes in the source timepoint (Src column). For each node in the source timepoint, Find Points shows the corresponding connected node (if there is one) in the second timepoint (Dst column).</p>

<p>The Guess column shows the best guess for the corresponding node in the second timepoint. This guess is generated using each timepoints <a href="/Vascular-Analysis/pivot-points/" title="Pivot Points">Pivot point</a>.</p>

<p>Once a node is selected, the keyboard can be used to scroll through the nodes in the Find Points list and nodes will be selected simultaneously in both the source and destination image stacks.</p>

<p>For each row:</p>

<ul>
  <li>Blue : Denotes the <a href="/Vascular-Analysis/pivot-points/" title="Pivot Points">Pivot Point</a> for the Src and Dst timepoints</li>
  <li>Red (Dst) : Denotes a Src node that is missing a Dst node</li>
  <li>Red (Guess) : Denotes a Guess that differs from the assigned Dst</li>
  <li>Only Dst is filled in : Denotes a Dst node that has no matching Src node (reverse lookup)</li>
</ul>

<h4 id="keyboard-commands">Keyboard commands</h4>

<ul>
  <li>Up arrow : Go to the previous node</li>
  <li>Down arrow : Go to the next node</li>
  <li>Left arrow : Flash the Src node (in first timepoint) and Guess node (in second timepoint).</li>
  <li>Right arrow : Flash the Src node (in first timepoint) and Dst node (in second timepoint).</li>
  <li>shift + right-arrow : Transfer the Guess node to Dst node</li>
  <li>Del : Delete the Dst node (not the node itself, just the correspondence)</li>
</ul>

<h3 id="nodes">Nodes</h3>

<p>The goal is to fill in the Dst column with the correct nodes, e.g. a mapping of each node in the Src timepoint with a node in the Dst timepoint.</p>

<p>The ‘Guess’ column is the programs best guess for which nodes are connected. This guess is created using <a href="/Vascular-Analysis/pivot-points/" title="Pivot Points">Pivot Points</a>.</p>

<p>Scroll through each source node in the Find points window and do one of the following:</p>

<ul>
  <li>If the Guess is correct, transfer the Guess to the Dst with keyboard ‘shift + right-arrow’. That is ‘hold shift and hit the right-arrow’. This will fill in the Dst with the Guess.</li>
  <li>If the Guess is not correct, go to the image stacks and select the source node and the destination node to connect (in their respective image stacks) and right-click on the destination node (still in the image stack) and select menu ‘FindPnt -&gt; Dst’.</li>
  <li>Use ‘Del’ key to remove a node from the Dst column.</li>
</ul>

<p>If a node in the second timepoint does not have a match in the first timepoint it is appended to the end of the list. This node can be selected as usual and allows for a reverse lookup from the second timepoint to the first.</p>

<p>While you are editing the connections between nodes using Find points you can always add new nodes, edges and slabs as you find nodes in one timepoint that need to be created in the other.</p>

<div class="print-page-break"></div>

<h3 id="edges">Edges</h3>

<figure>
<img class="img-float-right" src="../images/findpoints_edges.png" width="600" />
</figure>

<p>Expand the Find Points window with the disclosure triangle (top right of the window) to display a list of edges. The navigation in this list of edges is similar to that of nodes.</p>

<p>On the right is an example Find points window showing the edge interface. Each edge gets three rows:</p>

<ul>
  <li><b>Row 1 (gray):</b> Gives the edge index in the first (srcEdge) and second (dstEdge) timepoints. If dstEdge is empty, there is no mapping from the given src timepoint edge (srcEdge) to the dst timepoint.</li>
  <li><b>Row 2:</b> The corresponding nodes in the first timepoints. The nodes that make up the srcEdge.</li>
  <li><b>Row 3:</b> The corresponding nodes in the second timepoint. The nodes that make up the dstEdge.</li>
</ul>

<p>For a given edge, edge #9 in this example, any red cells indicates that the edge is only partially formed. For edge #9, one of the nodes is not mapped correctly. You can switch back to the node list and make sure that each node in the src edge has a mapping to the second (dst) timepoint.</p>

<p>You don’t actually edit the connections between edges as you do with nodes, you edit the connections between nodes and the edges will follow. This works because we only allow one edge between any two nodes (think about it).</p>

<h3 id="nodes-and-edges">Nodes and edges</h3>

<p>As you discover missing nodes and edges, you can go back to the image stacks and make the appropriate edits. For example, you can make entire new edges if your missing an edge in either the first or second timepoint, connect the nodes together with Find points (nodes) and the edges (still in Find points) will magically be connected.</p>



<div class="post-tags">
  
    
  
  
  
  
  

   
   <!--
   <BR>
   <a href="_posts/2015-02-01-find-points.pdf">print pdf</a>
   <BR>
   -->
    
</div>


                    </div>
                
            </div>

            

            <div class=row-fluid>
                <div id=footer class=span12>
                      Copyright &copy; 2015 - Robert Cudmore -

 <a href="http://robertcudmore.org/index.html">robertcudmore.org</a>

<!--
Documentation for <a href="https://github.com/cudmore/Vascular-Analysis">Vascular Analysis</a>
-->
                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
        
    </body>
</html>
